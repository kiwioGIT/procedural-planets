[gd_scene load_steps=18 format=2]

[ext_resource path="res://Spatial.tscn" type="PackedScene" id=1]
[ext_resource path="res://player.tscn" type="PackedScene" id=2]
[ext_resource path="res://planet_res.tres" type="Resource" id=3]
[ext_resource path="res://ocean_spat_mat.tres" type="Material" id=4]
[ext_resource path="res://assets/background.png" type="Texture" id=5]
[ext_resource path="res://atmos_spat_mat.tres" type="Material" id=6]
[ext_resource path="res://shade_sun.tres" type="Shader" id=7]

[sub_resource type="PanoramaSky" id=6]
panorama = ExtResource( 5 )

[sub_resource type="Environment" id=5]
background_mode = 2
background_sky = SubResource( 6 )
background_sky_orientation = Basis( -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0, 1 )
ambient_light_sky_contribution = 0.0

[sub_resource type="CubeMesh" id=3]

[sub_resource type="SpatialMaterial" id=4]
albedo_color = Color( 0, 0.25098, 0.415686, 1 )

[sub_resource type="CubeMesh" id=7]
flip_faces = true
size = Vector3( 4, 4, 4 )

[sub_resource type="CubeMesh" id=8]
flip_faces = true

[sub_resource type="QuadMesh" id=9]
size = Vector2( 10000, 10000 )

[sub_resource type="Gradient" id=10]
colors = PoolColorArray( 1, 0.254883, 0, 1, 1, 0.88208, 0.34375, 1 )

[sub_resource type="GradientTexture" id=11]
gradient = SubResource( 10 )

[sub_resource type="ShaderMaterial" id=12]
shader = ExtResource( 7 )
shader_param/planet_pos = Vector3( 100000, 0, 0 )
shader_param/planet_radius = 4000.0
shader_param/light_normal = Vector3( 1, 0, 0 )
shader_param/atmos_grad = SubResource( 11 )

[node name="world" type="Spatial"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 5 )

[node name="planet" parent="." instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
planet_data = ExtResource( 3 )
num_of_trees = 0
activate_physics = true

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( -4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 1643.8, 1101.98, 568.798 )
light_energy = 1.364
light_specular = 0.0
shadow_enabled = true
directional_shadow_normal_bias = 10.0
directional_shadow_max_distance = 789.9

[node name="MeshInstance" type="MeshInstance" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 18.7784, 356.378, 420.368 )
mesh = SubResource( 3 )
material/0 = SubResource( 4 )

[node name="player" parent="." instance=ExtResource( 2 )]
transform = Transform( 0.3, 0, 0, 0, 0.3, 0, 0, 0, 0.3, 1240.7, 0, 302.494 )

[node name="Position3D" type="Position3D" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 651.314, 19.6379, 121.832 )

[node name="Atmosphere" type="MeshInstance" parent="."]
transform = Transform( 1745.22, 0, 0, 0, 1435.18, 0, 0, 0, 1432.98, 0, 0, 0 )
visible = false
mesh = SubResource( 7 )
material/0 = ExtResource( 6 )

[node name="Ocean" type="MeshInstance" parent="."]
transform = Transform( 1200, 0, 0, 0, 1200, 0, 0, 0, 1200, 0, 0, 0 )
mesh = SubResource( 8 )
material/0 = ExtResource( 4 )

[node name="MeshInstance2" type="MeshInstance" parent="."]
transform = Transform( -4.36266e-08, 0, -0.998061, 0, 0.998061, 0, -1.02279, 0, 4.47078e-08, 4000, 0, 401.54 )
visible = false
mesh = SubResource( 9 )
material/0 = SubResource( 12 )
